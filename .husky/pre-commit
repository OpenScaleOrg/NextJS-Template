set -e  # Exit immediately if a command exits with a non-zero status

echo "ğŸ” Running lint-staged on staged files..."
npx lint-staged || { echo "âŒ Lint-staged checks failed! Commit aborted."; exit 1; }

# echo "ğŸ§  Running ESLint..."
# npm run lint || { echo "âŒ ESLint failed! Commit aborted."; exit 1; }

# echo "ğŸ¨ Checking code formatting..."
# npm run format:check || { echo "âŒ Prettier check failed! Commit aborted."; exit 1; }

# Uncomment the following if you want to block commits with unused code:
# echo "ğŸ§¹ Checking unused dependencies..."
# npm run knip || { echo "âŒ Unused dependencies check failed! Commit aborted."; exit 1; }

echo "ğŸ§ª Running tests..."
npm test || { echo "âŒ Tests failed! Commit aborted."; exit 1; }

echo "âœ… All pre-commit checks passed successfully!"